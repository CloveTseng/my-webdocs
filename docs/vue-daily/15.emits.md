---
title: 'Day14 - Vue.js 的元件篇：emits'
description: '2025 Vue 直播班每日任務，藉由一天學一點積沙成塔'
tags: [Vue.js, JavaScript]
---
:::note
本站 Vue 的撰寫風格都是 Composition API
:::

> 2025 Vue 直播班每日任務，藉由一天學一點積沙成塔

## emits
- 昨天學了父傳給子，今天來學子傳給父
- 命名注意：因為 vue 會自動轉成小寫，所以資料的傳遞時使用烤肉串寫法可以避免錯誤 `@add-to-cart`

## Topic
- 請在 Vue SFC Playground 樣板 中使用 `emits` 的方式，完成下面條件：
  - 將子元件 `Card.vue` 的「水果名稱」與「加入購物車事件」傳回父元件 `App.vue`，並且當點擊「加入購物車」按鈕時，能正確觸發父元件的 `handleAddToCart` 跳出相對應的彈跳視窗。

---

## Result
```js title="App.vue"
<template>
  <div id="app" class="container">
    <div class="row">
      <template v-for="(fruit, index) in fruitData" :key="index">
        <div class="col">
          <Card
            :imgUrl="fruit.imgUrl"
            :title="fruit.title"
            :price="fruit.price"
            :count="fruit.count"
            //next-line
            @add-to-cart="handleAddToCart"
          />
        </div>
      </template>
```
```html title="Card.vue"
<script setup>
import { defineProps, defineEmits } from 'vue';

const props = defineProps({
  imgUrl: String,
  title: String,
  price: Number,
  count: Number,
});
//next-line-start
const emits = defineEmits(['add-to-cart']);
const addToCart = () => {
  emits('add-to-cart', props.title);
}
//next-line-end
</script>
<template>
  <div class="card">
    <img :src="imgUrl" class="card-img-top" :alt="title">
    <div class="card-body">
      <h5 class="card-title">水果名稱：{{ title }}</h5>
      <p class="card-text">價錢：{{ price }}</p>
      <p class="card-text">數量：{{ count }}</p>
      //next-line
      <a href="#" class="btn" @click.prevent="addToCart">加入購物車</a>
    </div>
  </div>
</template>
```

## 思考與反饋
- 學習使用 `emits` 方法，由子元件傳值給父元件
1. 接續父元件將值傳給子元件 [`props`](14.props.md)
2. 宣告事件：`const emits = defineEmits(['add-to-cart']);`
3. 發出 `emits` 事件，把值傳出去給父元件
```js
const addToCart = () => {
  emits('add-to-cart', props.title)
}
```
4. 父元件監聽 `<Cart />` 發出的 `add-to-cart` 事件，並執行函式：`@add-to-cart="handleAddToCart"`

---
## CODE
- 連結到 [Vue SFC Playground](https://play.vuejs.org/#eNqdVl9vG0UQ/yorB2RHytluiAM6nKihBClIlIgEAaqRer7dsze+u13t7vlPLb+AUEUFghdeEEIICam8lT8SIPp1nLZPfAVmd+9/IlP6Yt/O/GZmZ2f2N7tsHHHeniak4Tb60heUKySJSvjhIKYRZ0KhJRIkQCsUCBahJkCbr+e6W57AqaLd0QvtSusHsc9iqdDYi3FIjjA+Z6BW6AC1ApFQdU5VSLbRwSFaDmKELDgiUnojAqC7l588XP/x6/rRffTSsjBYofWDH9af/fT0t8dPPv/56d8P7kIohLyQCNVKrbdBtCo2YIzf9JQHXiGP1h1tYGIipLRPFzU9zkPS3LFCLqgPwt1euvZZEisX9brpmkaj90UIVmOluHQ7HdoGUSLaPos6sz350QfhWfuCk1FT41fGqhaPCS8e1QPeqAXcfa6Ap2fRvehD+h8BpRLebEiEWNSC7tWC3niuoG+dvBON98dtHo+sv2uDTuiM1sL1XijH85Oj/eleVMpxEH+sy9zv2I6FXu0rEvHQUwS+EepjOkUUHwwaUNpBA/mhJyWsoCWUR2MiBg2DS5GZWrBZrgBV5hJNnYAJ0NvW3UE0xmS+DX9Fd0EQd0IWADLKkptaDJ+FFSWo9b0pCxBy7XkA3ATQZwHLQaOGMiedg8zqCsacfI4xqysYU40cY1Z1zE0PY0cxx4dLDMjata6iO+XcO5B8caSdSpnK6uyrAulLtQj1B2wqrZztshnFaqzbtfuyYYDImzuZbLfb5fNUKkY0dlEXeYliRsQhDxqPALZvQIYp2lB46xdTCbEXLgpCYn3oD2cmPO4i/Vvx67xW8gGFtT60hY7ZBc6wu8uDWjxCQzZ3JL1nZEMmMBEOiKwraOo06cZOQ0lIPKCj9oVkMVC0CaCbKOIUSO9driiw3KDhZpcPOj4M2extI1MiIekFA5sx8SfXyC8kdKsLH6eCSCKm0B65TkGiBKqr1cdnt8kcvnNlxHCiG26D8j0iWZjoPVrYG4luG7h9Oc7s9sQMEziNc3k8VySWWVJ6owW/DBowXG5tSL3Y7ivtvZQoVnCK2WDaNOMwCaC9TgXjciddHEdUyfrgy+YK10iYKSW7ltlIRmVnSkBGZuMpI5YkKR/eTiJgZSNJGTGXrDTB2VDE7CMLZXbVutMsXcimYUMLBnExaosBa3y0KkY7NgfLG+nU3MyoOYdpwsoZFBJGrhS+5r6UpypIB6QQVPOw64WaPVKmuo6CjcGQ4UWZiMe9qj6zv3z0++X3362//vLJw1/+efztcmlPGq1W/c64V9jzmrlp1cP1p389++JHa2fqYex0U2w0u/zmz2f3v7Jmpmh1Mw+N4aEBVlulgxgquALoph9SfwIsTKbEMG5eLb2f6tOm3/H+D0kiYApOsOFK/SgzVbfcAmTH5whuIsVoC2OcUpChHeFhmkh4CKTMxKZEBHAlXTSmGJO4oLdSJSscvNuzJJdT5zBk/qTCk5prMwouedNltq6uZ+Wi1imxwgzQtKkfS+3dniBRKQp4U4pFGceWPUDdrIMNSKhPbQLQOITb5hTZlFk82yico+dPRgL6ADswARgc9la3++owCIw2EwXpWu/F8UI6glPxoQWI2FQMg8bEh/eiJjsXxSwmV6bE6l/t6PGO)